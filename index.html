<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Dialer</title>
</head>
<body>
  <h1>Click to Call Dialer</h1>
</body>

<script src="https://cdn.jsdelivr.net/npm/@pipedrive/app-extensions-sdk@0.2.0-rc.0/dist/index.umd.js"></script>
<script>
  (async () => {
    const sdk = await new AppExtensionsSdk().initialize();
    console.log("âœ… SDK initialized:", sdk);

    sdk.listen(AppExtensionsSdk.Event.VISIBILITY, (event) => {
      console.log("ğŸ‘ï¸ Floating window visibility event:", event);

      const context = event?.data?.context;
      console.log("yeh le context",context)

      if (context?.person) {
        console.log("ğŸ“ Person contact:", context.person);
        // You can now access context.person.id, .name, .phone etc.
      } else {
        console.warn("âš ï¸ No person context available");
      }
    });
  })();
</script>
</html>
